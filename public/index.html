<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Drawly ‚Äì Social Giveaway Picker</title>
  <!-- html2canvas CDN -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fefaf6;
      color: #3d3d3d;
      margin: 0;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: #f9eee6;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    nav img {
      height: 40px;
      cursor: pointer;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      margin: 0;
      padding: 0;
    }
    nav ul li a {
      text-decoration: none;
      color: #3d3d3d;
      font-weight: 500;
    }
    .screen {
      display: none;
      padding: 2rem;
    }
    .screen.active {
      display: block;
    }
    input, button, select {
      padding: 0.8rem;
      margin-top: 1rem;
      width: 100%;
      max-width: 400px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    h1, h2 {
      font-family: 'Georgia', serif;
    }
    .language-switch {
      margin-left: auto;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <nav>
    <img src="logo.png" alt="Drawly Logo" onclick="goHome()" />
    <ul>
      <li><a href="#">Login</a></li>
      <li><a href="#">Modules</a></li>
      <li><a href="#">Pricing</a></li>
      <li><a href="#">Impressum</a></li>
    </ul>
    <select id="languageSelector" onchange="changeLanguage(this.value)" class="language-switch">
      <option value="de">Deutsch</option>
      <option value="en">English</option>
      <option value="es">Espa√±ol</option>
      <option value="fr">Fran√ßais</option>
      <option value="it">Italiano</option>
      <option value="tr">T√ºrk√ße</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="zh">‰∏≠Êñá</option>
    </select>
  </nav>

  <section id="screen1" class="screen active">
    <h1>Drawly</h1>
    <p id="intro">Starte deine faire Auslosung ‚Äì in Boho-√Ñsthetik</p>
    <input type="url" id="postLink" placeholder="Beitragslink einf√ºgen‚Ä¶" />
    <button onclick="goToPreview()">Weiter zur Vorschau</button>
  </section>

  <section id="screen2" class="screen">
    <h2>Vorschau</h2>
    <div id="previewArea">[Vorschau des Beitrags]</div>
    <button onclick="goToCriteria()">Kriterien ausw√§hlen</button>
  </section>

  <section id="screen3" class="screen">
    <h2>Kriterien</h2>
    <label><input type="checkbox" id="hashtag" /> Muss Hashtag enthalten</label><br/>
    <label><input type="checkbox" id="mention" /> Muss jemanden markieren</label><br/>
    <label><input type="checkbox" id="follow" /> Muss dir folgen</label><br/>
    <label><input type="checkbox" id="like" /> Muss Beitrag liken</label><br/>
    <label><input type="checkbox" id="extraEntry" /> Extra-Los bei Story-Sharing</label><br/>
    <button onclick="startDraw()">Auslosen</button>
  </section>

  <section id="screen4" class="screen">
    <h2 id="winnerTitle">And the winner is‚Ä¶</h2>
    <div id="winnerDisplay">[Name wird hier erscheinen]</div>
    <button onclick="takeScreenshot()">Screenshot speichern</button>
  </section>

  <script>
    const screens = ["screen1", "screen2", "screen3", "screen4"];
    const translations = {
      de: { intro: "Starte deine faire Auslosung ‚Äì in Boho-√Ñsthetik", linkPlaceholder: "Beitragslink einf√ºgen‚Ä¶", previewButton: "Weiter zur Vorschau", criteriaTitle: "Kriterien", winnerTitle: "And the winner is‚Ä¶", screenshot: "Screenshot speichern" },
      en: { intro: "Start your fair giveaway ‚Äì in boho style", linkPlaceholder: "Insert post link...", previewButton: "Continue to preview", criteriaTitle: "Criteria", winnerTitle: "And the winner is‚Ä¶", screenshot: "Save screenshot" },
      es: { intro: "Inicia tu sorteo justo ‚Äì al estilo boho", linkPlaceholder: "Pega el enlace de la publicaci√≥n‚Ä¶", previewButton: "Ver vista previa", criteriaTitle: "Criterios", winnerTitle: "Y el ganador es‚Ä¶", screenshot: "Guardar captura" },
      fr: { intro: "Lancez votre tirage au sort √©quitable ‚Äì style boho", linkPlaceholder: "Collez le lien du post‚Ä¶", previewButton: "Voir l‚Äôaper√ßu", criteriaTitle: "Crit√®res", winnerTitle: "Et le gagnant est‚Ä¶", screenshot: "Enregistrer capture" },
      it: { intro: "Avvia la tua estrazione ‚Äì in stile boho", linkPlaceholder: "Inserisci il link del post‚Ä¶", previewButton: "Anteprima", criteriaTitle: "Criteri", winnerTitle: "E il vincitore √®‚Ä¶", screenshot: "Salva screenshot" },
      tr: { intro: "Adil √ßekili≈üini ba≈ülat ‚Äì boho tarzƒ±nda", linkPlaceholder: "G√∂nderi baƒülantƒ±sƒ±nƒ± yapƒ±≈ütƒ±r‚Ä¶", previewButton: "√ñnizlemeye ge√ß", criteriaTitle: "Kriterler", winnerTitle: "Ve kazanan‚Ä¶", screenshot: "Ekran g√∂r√ºnt√ºs√ºn√º kaydet" },
      ru: { intro: "–ù–∞—á–Ω–∏ —á–µ—Å—Ç–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à ‚Äî –≤ —Å—Ç–∏–ª–µ –±–æ—Ö–æ", linkPlaceholder: "–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å—Ç‚Ä¶", previewButton: "–ö –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä—É", criteriaTitle: "–ö—Ä–∏—Ç–µ—Ä–∏–∏", winnerTitle: "–ò –ø–æ–±–µ–¥–∏—Ç–µ–ª—å‚Ä¶", screenshot: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç" },
      zh: { intro: "ÂºÄÂßã‰Ω†ÁöÑÂÖ¨Âπ≥ÊäΩÂ•ñ ‚Äì BohoÈ£éÊ†º", linkPlaceholder: "Á≤òË¥¥Â∏ñÂ≠êÈìæÊé•‚Ä¶", previewButton: "ÁªßÁª≠È¢ÑËßà", criteriaTitle: "Êù°‰ª∂", winnerTitle: "Ëé∑Â•ñËÄÖÊòØ‚Ä¶", screenshot: "‰øùÂ≠òÊà™Âõæ" }
    };

    function showScreen(id) {
      screens.forEach(s => document.getElementById(s).classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    function goToPreview() { showScreen("screen2"); }
    function goToCriteria() { showScreen("screen3"); }
    function goHome() { showScreen("screen1"); }

    function triggerConfetti() {
      const emoji = ["‚ú®", "üå∏", "üåø", "üß°", "üåû"];
      for (let i = 0; i < 30; i++) {
        const el = document.createElement("div");
        el.textContent = emoji[Math.floor(Math.random() * emoji.length)];
        el.style.position = "fixed";
        el.style.top = Math.random() * -20 + "px";
        el.style.left = Math.random() * 100 + "vw";
        el.style.fontSize = "24px";
        el.style.animation = "fall 2s ease-out forwards";
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 2000);
      }
    }

    function takeScreenshot() {
      html2canvas(document.getElementById("screen4")).then(canvas => {
        const link = document.createElement("a");
        link.download = "drawly-winner.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function createVerificationHash(name, timestamp) {
      return btoa(`${name}-${timestamp}`);
    }

    function startDraw() {
      const dummyComments = ["@anna", "@max", "@sarah", "@leo", "@nina"];
      const winner = dummyComments[Math.floor(Math.random() * dummyComments.length)];
      const timestamp = new Date().toISOString();
      const hash = createVerificationHash(winner, timestamp);
      document.getElementById("winnerDisplay").innerHTML =
        `<strong>${winner}</strong><br><small>Zeitstempel: ${timestamp}</small><br><small>Verifizierungscode: ${hash}</small>`;
      showScreen("screen4");
      triggerConfetti();
    }

    function changeLanguage(lang) {
      const t = translations[lang];
      document.getElementById("intro").textContent = t.intro;
      document.getElementById("postLink").placeholder = t.linkPlaceholder;
      document.querySelector("#screen1 button").textContent = t.previewButton;
      document.querySelector("#screen3 h2").textContent = t.criteriaTitle;
      document.getElementById("winnerTitle").text 
          = t.winnerTitle;
      document.querySelector("#screen4 button").textContent = t.screenshot;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const browserLang = navigator.language.slice(0, 2);
      const defaultLang = translations[browserLang] ? browserLang : "en";
      changeLanguage(defaultLang);
      document.getElementById("languageSelector").value = defaultLang;
    });
  </script>
</body>
</html>
